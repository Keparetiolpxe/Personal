print("correct version - 1.61")
local function run()
    local stageFolder = workspace.BoatStages.NormalStages
    local goldVar = game:GetService("Players").LocalPlayer.Data.Gold
    local humP = game.Players.LocalPlayer.Character.HumanoidRootPart
    local chestTrigger = stageFolder.TheEnd.GoldenChest.Trigger
    local chestFirstCF = chestTrigger.CFrame
    local holdPart
    if not workspace:FindFirstChild("HoldPartAFK") then
        holdPart = Instance.new("Part",workspace)
        holdPart.Size = Vector3.new(5,1,5)
        holdPart.Anchored = true
        holdPart.Name = 'HoldPartAFK'
    else
        holdPart = workspace.HoldPartAFK
    end
    
    local collecting = true
    
    local function collectGold()
        workspace:WaitForChild("ClaimRiverResultsGold"):FireServer()
    end
    
    local function claimChest()
        chestTrigger.CFrame = humP.CFrame
        task.wait(0.3)
        chestTrigger.CFrame = chestFirstCF
    end
    
    local function reset()
        pcall(function()
            if game.Players.LocalPlayer.Character and game.Players.LocalPlayer.Character:FindFirstChildWhichIsA("Humanoid") then
                game.Players.LocalPlayer.Character:FindFirstChildWhichIsA("Humanoid").Health = 0
                game.Players.LocalPlayer.Character.PrimaryPart:Destroy()
                game.Players.LocalPlayer.Character.Head:Destroy()
            end
        end)
    end
    
    local function claimStage(stage)
        local lastGold = goldVar.Value
        local stageP = stageFolder["CaveStage"..stage].DarknessPart
        holdPart.CFrame = stageP.CFrame-Vector3.new(0,5,0)
        pcall(function()
            while task.wait(0.1) do
                if collecting then
                    humP.CFrame = stageP.CFrame
                    collectGold()
                    if goldVar.Value ~= lastGold then
                        break
                    end
                else
                    humP.CFrame = stageP.CFrame
                    task.wait(2)
                    claimChest()
                    task.wait(1)
                    collecting = true
                    collectGold()
                    break
                end
            end
        end)
    end
    if not game.Players.LocalPlayer.Character:FindFirstChildWhichIsA("Humanoid") then return end
    game.Players.LocalPlayer.Character:FindFirstChildWhichIsA("Humanoid").Died:Connect(function()
        repeat
            task.wait(0.1)
        until game.Players.LocalPlayer.Character and game.Players.LocalPlayer.Character.PrimaryPart
        run()
        return
    end)
    claimStage(2)
    claimStage(3)
    collecting = false
    claimStage(4)
    
    for i=5,9 do
        claimStage(i)
    end
    reset()
end
run()
