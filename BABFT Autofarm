print("correct version - 2.0.1")

local plr = game:GetService("Players").LocalPlayer
local stageFolder = workspace.BoatStages.NormalStages
local goldVar = plr.Data.Gold
local runTimeA = 0


local function reset()
    pcall(function()
        if plr.Character and plr.Character:FindFirstChildWhichIsA("Humanoid") then
            plr.Character.PrimaryPart.CFrame = CFrame.new(0,-10000,0,1,0,0,0,1,0,0,0,1)
            plr.Character.Head:Destroy()
        end
    end)
end



game:GetService("RunService").Heartbeat:Connect(function(delta)
    runTimeA += delta
    if runTimeA >= 30 then
        reset()
        runTimeA = 0
    end
end)
for stage = 2, 9 do
    holdPart = Instance.new("Part",workspace)
    holdPart.Size = Vector3.new(5,1,5)
    holdPart.Anchored = true
    holdPart.Name = 'HoldPartAFK'

    local stageP = stageFolder["CaveStage"..stage].DarknessPart
    holdPart.CFrame = stageP.CFrame-Vector3.new(0,4,0)
end 

local function collectGold()
    workspace:WaitForChild("ClaimRiverResultsGold"):FireServer()
end

local function run()
    print("run completed in "..runTimeA)
    runTimeA = 0
    
    local humP = plr.Character.PrimaryPart
    
    local function claimStage(stage)
        local lastGold = goldVar.Value
        local stageP = stageFolder["CaveStage"..stage].DarknessPart
        pcall(function()
            humP.CFrame = stageP.CFrame
            while task.wait(0.1) do
                collectGold()
                if goldVar.Value ~= lastGold then
                    break
                end
            end
        end)
    end
    for i=2,9 do
        claimStage(i)
    end
    reset()
end
while true do
    reset()
    pcall(function()
        run()
    end)
end
